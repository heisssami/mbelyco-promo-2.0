:root{
  --color-bg:#033333;
  --color-surface:#0a4d4d;
  --color-elev:#0f5e5e;
  --color-text:#f3f4f6;
  --color-muted:#ffffff;
  --color-primary:#15a000;
  --color-primary-2:#0f7a00;
  --color-accent:#15a000;
  --color-success:#22c55e;
  --color-warning:#f59e0b;
  --color-error:#ef4444;
  --radius:14px;
  --radius-sm:10px;
  --shadow-lg:0 20px 40px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.2);
  --shadow-md:0 8px 24px rgba(0,0,0,.35), 0 1px 3px rgba(0,0,0,.2);
  --shadow-sm:0 2px 10px rgba(0,0,0,.25);
  --fs-xs:12px; --fs-sm:13px; --fs-base:14px; --fs-lg:16px; --fs-xl:18px; --fs-2xl:22px;
  --dur-fast:120ms; --dur-med:220ms; --dur-slow:360ms;
  --easing: cubic-bezier(.22,.61,.36,1);
}

/* Light theme */
.theme-light{
  --color-bg:#f6f7fb;
  --color-surface:#ffffff;
  --color-elev:#ffffff;
  --color-text:#0f172a;
  --color-muted:#6b7280;
  --color-primary:#15a000;
  --color-primary-2:#0f7a00;
  --color-accent:#15a000;
  --shadow-lg:0 30px 60px rgba(20,22,30,.18), 0 2px 6px rgba(20,22,30,.08);
  --shadow-md:0 10px 30px rgba(20,22,30,.16), 0 1px 3px rgba(20,22,30,.08);
  --shadow-sm:0 2px 10px rgba(20,22,30,.12);
}

*{box-sizing:border-box;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
html,body{height:100%}
body{
  margin:0;
  font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  font-size:var(--fs-base);
  background:var(--color-bg);
  color:var(--color-text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
body.no-scroll{overflow:hidden}

.app-bar{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 22px;margin:16px; border-radius:var(--radius);
  background:linear-gradient(180deg,rgba(21,160,0,.18),rgba(21,160,0,.04));
  border:1px solid rgba(21,160,0,.25);
  box-shadow:var(--shadow-lg);
  backdrop-filter:blur(10px);
}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{width:48px;height:48px;display:grid;place-items:center;border-radius:12px;background:transparent;box-shadow:none;}
.brand .logo svg{width:40px;height:40px;border-radius:8px;}
.brand .title{display:flex;flex-direction:column;line-height:1.1}
.brand .subtitle{font-size:12px;color:var(--color-muted);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

.actions{display:flex;gap:10px;align-items:center}
.btn{appearance:none;border:none;border-radius:12px;padding:10px 14px;background:var(--color-elev);color:var(--color-text);cursor:pointer;box-shadow:var(--shadow-sm);transition:transform var(--dur-fast) var(--easing), box-shadow var(--dur-med) var(--easing), background var(--dur-med) var(--easing), opacity var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.btn:active{transform:translateY(0)}
.btn.primary{background:linear-gradient(180deg,var(--color-primary),var(--color-primary-2));color:#fff}
.btn.accent{background:linear-gradient(180deg,var(--color-accent),var(--color-accent));color:#fff}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.15)}
.icon-btn{appearance:none;background:transparent;border:none;color:inherit;cursor:pointer;font-size:14px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.btn svg{width:18px;height:18px;vertical-align:middle}

.tabs{display:flex;gap:8px;padding:0 22px;margin:8px 16px 0;justify-content:center}
.tab{appearance:none;border:none;border-radius:999px;padding:10px 14px;background:transparent;color:var(--color-text);cursor:pointer;font-family:'Montserrat',sans-serif;transition:background var(--dur-med) var(--easing), border-color var(--dur-med) var(--easing), color var(--dur-med) var(--easing)}
.tab.active{background:rgba(21,160,0,.18);border:1px solid rgba(21,160,0,.35)}

main{padding:12px 16px 24px}
.view{display:none;animation:fadeSlide var(--dur-slow) var(--easing) both}
.view.active{display:block}

.cards-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px;margin:16px 0}
@media (max-width:1000px){.cards-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:640px){.cards-grid{grid-template-columns:1fr}}

.card{background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow-md);padding:16px;position:relative;overflow:hidden}
.card.kpi{display:flex;align-items:center;gap:12px}
.kpi-icon{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(180deg,rgba(21,160,0,.25),rgba(21,160,0,.08));border:1px solid rgba(21,160,0,.35)}
.kpi-icon svg{width:20px;height:20px;color:var(--color-primary)}
.kpi-label{color:var(--color-muted);font-size:var(--fs-xs);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.kpi-value{font-size:var(--fs-2xl);font-weight:800;letter-spacing:.3px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

.panel{margin-top:16px;background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow-sm)}
.panel-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.06)}
.panel-title{margin:0;font-size:var(--fs-lg);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.panel-body{padding:12px 16px}
.muted{color:var(--color-muted);font-size:var(--fs-xs);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

/* Feature cards */
.feature-cards{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;margin:12px 0 18px}
@media (max-width:1000px){.feature-cards{grid-template-columns:1fr}}
.feature-card{background:var(--color-surface);border:1px solid rgba(255,255,255,.08);border-radius:20px;box-shadow:var(--shadow-md);padding:20px;display:flex;flex-direction:column;align-items:center;text-align:center;gap:10px;transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;cursor:pointer}
.feature-card:focus{outline:2px solid var(--color-primary); outline-offset:3px}
.feature-card:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 24px 48px rgba(0,0,0,.35), 0 6px 16px rgba(0,0,0,.25);border-color:rgba(255,255,255,.14)}
.feature-card h3{margin:6px 0 2px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.feature-card p{margin:0 0 6px;color:var(--color-muted);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.feature-icon{width:76px;height:76px;border-radius:16px;display:grid;place-items:center;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);box-shadow:var(--shadow-sm);transition:transform .25s ease, box-shadow .25s ease}
.feature-icon svg{width:32px;height:32px;color:currentColor}
.feature-card:hover .feature-icon{transform:translateY(-2px) scale(1.05)}
.feature-card:hover .feature-icon.green{box-shadow:0 8px 24px rgba(21,160,0,.35)}
.feature-card:hover .feature-icon.cyan{box-shadow:0 8px 24px rgba(21,160,0,.35)}
.feature-card:hover .feature-icon.rose{box-shadow:0 8px 24px rgba(21,160,0,.35)}
.feature-icon.green{background:rgba(21,160,0,.12);border-color:rgba(21,160,0,.25);color:#15a000}
.feature-icon.cyan{background:rgba(21,160,0,.12);border-color:rgba(21,160,0,.25);color:#15a000}
.feature-icon.rose{background:rgba(21,160,0,.12);border-color:rgba(21,160,0,.25);color:#15a000}

/* Subtle entrance animation */
.feature-card{animation:cardFade .4s ease both}
.feature-card:nth-child(2){animation-delay:.05s}
.feature-card:nth-child(3){animation-delay:.1s}
@keyframes cardFade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

.toolbar{display:flex;gap:12px;align-items:center;justify-content:space-between;margin:16px 0}
.toolbar .left{display:flex;align-items:center;gap:12px}
.toolbar .right{display:flex;align-items:center;gap:8px}
.search{position:relative;display:inline-flex;align-items:center}
.search i, .search svg{position:absolute;left:10px;width:16px;height:16px;color:var(--color-muted)}
.search input{appearance:none;background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px 10px 32px;color:var(--color-text);min-width:240px;outline:none;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
/* Dark theme placeholders to white */
body:not(.theme-light) .search input::placeholder,
body:not(.theme-light) input::placeholder,
body:not(.theme-light) textarea::placeholder{color:#ffffff;opacity:.9}
select{appearance:none;background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

/* Generic select caret icon */
.select-wrap{position:relative;display:inline-block}
.select-wrap select{padding-right:32px;width:100%}
.form-row .select-wrap{display:block}
.select-wrap i, .select-wrap svg{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--color-muted);pointer-events:none;z-index:1}

/* Ensure only one icon is visible in select-wrap */
.select-wrap i[data-lucide]:not(:first-child) { display: none !important; }
.select-wrap svg:not(:first-child) { display: none !important; }

/* Promo Codes controls (status tabs + bar) */
.codes-controls{margin:6px 0 14px;display:flex;flex-direction:column;gap:10px}
.status-tabs{display:flex;flex-wrap:wrap;gap:14px;padding-left:2px}
.status-tab{appearance:none;background:transparent;border:none;color:var(--color-text);cursor:pointer;font-weight:700;border-bottom:2px solid transparent;padding:6px 2px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.status-tab.active{color:var(--color-primary);border-color:var(--color-primary)}
.codes-bar{display:flex;align-items:center;justify-content:space-between;gap:12px}
.codes-bar .left{display:flex;align-items:center;gap:10px}
.codes-bar .right{display:flex;align-items:center;gap:6px}
.codes-bar select{min-width:140px}

/* Batches controls (reuse styles) */
.batches-controls{margin:6px 0 14px;display:flex;flex-direction:column;gap:10px}
.batches-bar{display:flex;align-items:center;justify-content:space-between;gap:12px}
.batches-bar .left{display:flex;align-items:center;gap:10px}
.batches-bar .right{display:flex;align-items:center;gap:6px}

.table-wrap{background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);overflow:auto;box-shadow:var(--shadow-sm)}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table thead th{position:sticky;top:0;background:linear-gradient(180deg,rgba(21,160,0,.12),rgba(21,160,0,.04));text-align:left;font-weight:700;padding:12px;border-bottom:1px solid rgba(255,255,255,.06);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.table tbody td{padding:12px;border-bottom:1px solid rgba(255,255,255,.06);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.table tbody tr{transition:background var(--dur-fast) var(--easing), transform var(--dur-fast) var(--easing)}
.table tbody tr:hover{background:rgba(255,255,255,.04);transform:translateZ(0)}
.row-actions{display:flex;gap:8px;justify-content:flex-end;position:relative}
.row-actions.center{justify-content:center}
.row-actions .icon-btn{padding:6px;border:1px solid rgba(255,255,255,.08);border-radius:10px}
.row-actions .menu{pointer-events:auto}
.cell-actions{display:flex;gap:8px;align-items:center;position:relative}
.cell-actions.center{justify-content:center}
.cell-actions.center .menu{left:auto;right:0}
.cell-actions .icon-btn.more{width:36px;height:36px;border:1px solid rgba(255,255,255,.12);border-radius:12px;display:grid;place-items:center}
.cell-actions .icon-btn.more:hover{background:rgba(255,255,255,.06)}
.cell-actions button[data-action="download"]{background:#15a000;color:#fff}
.cell-actions button[data-action="download"]:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.status{padding:4px 8px;border-radius:999px;font-size:var(--fs-xs);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.status.success{background:rgba(34,197,94,.15);color:#22c55e}
.status.warn{background:rgba(245,158,11,.15);color:#f59e0b}
.status.muted{background:rgba(148,163,184,.15);color:#94a3b8}
.status.blocked{background:rgba(239,68,68,.15);color:#ef4444}

/* Progress bar */
.progress{display:flex;align-items:center;gap:8px}
.progress-bar{position:relative;height:8px;width:140px;background:rgba(255,255,255,.12);border-radius:999px;overflow:hidden}
.progress-bar > span{position:absolute;left:0;top:0;bottom:0;background:linear-gradient(90deg,var(--color-primary),var(--color-primary-2));border-radius:999px;transition:width 0.3s ease}
.progress-text{font-size:var(--fs-xs);color:var(--color-muted);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

/* Light mode overrides for progress visibility */
.theme-light .progress-bar{background:#e5e7eb;border:1px solid rgba(15,23,42,.06)}
.theme-light .progress-text{color:var(--color-muted)}

/* Row dropdown menu */
.menu{position:absolute;top:36px;right:0;min-width:180px;background:var(--color-surface);border:1px solid rgba(255,255,255,.08);border-radius:12px;box-shadow:var(--shadow-md);display:none;z-index:9999;opacity:0;transform:translateY(6px);pointer-events:none;transition:opacity var(--dur-med) var(--easing), transform var(--dur-med) var(--easing);max-height:240px;overflow:auto;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.row-actions.center .menu{left:auto;right:0;transform:none}
/* Allow JavaScript to override positioning */
.menu[style*="left"]{right:auto !important}
.menu[style*="right"]{left:auto !important}
.menu.open{display:block;opacity:1;transform:translateY(0);pointer-events:auto}
.menu button{display:block;width:100%;text-align:left;appearance:none;background:transparent;border:none;padding:10px 12px;color:var(--color-text);cursor:pointer;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.menu button:hover{background:rgba(255,255,255,.06)}

/* Code pill with copy */
.code-pill{display:flex;align-items:center;justify-content:space-between;gap:10px;background:var(--color-elev);border:1px dashed rgba(255,255,255,.18);border-radius:12px;padding:8px 10px}
.code-pill .code-value{font-weight:600;letter-spacing:.3px;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.copy-code{display:inline-flex;align-items:center;gap:6px;background:transparent;border:1px solid transparent;border-radius:10px;color:var(--color-muted);cursor:pointer;padding:6px 10px;transition:background .2s,border-color .2s,color .2s,transform .1s;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.copy-code svg{width:16px;height:16px}
.copy-code:hover,.copy-code:focus{background:rgba(21,160,0,.18);border-color:rgba(21,160,0,.35);color:#fff;outline:none}
.copy-code:hover svg,.copy-code:focus svg{color:#fff}
.copy-code:active{transform:translateY(1px)}
.theme-light .code-pill{border-color:rgba(15,23,42,.18)}

.activity-feed{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.activity-feed li{display:flex;gap:10px;align-items:flex-start;background:var(--color-elev);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px 12px;box-shadow:var(--shadow-sm);animation:pop .3s ease;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.activity-icon{font-size:18px}
.activity-meta{display:flex;flex-direction:column}
.activity-title{font-weight:600;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.activity-time{color:var(--color-muted);font-size:var(--fs-xs);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

/* Switch */
.setting-item{display:flex;align-items:center;gap:12px;background:var(--color-elev);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px 12px;margin-bottom:10px}
.setting-title{font-weight:600;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.setting-desc{color:var(--color-muted);font-size:12px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.switch{position:relative;display:inline-block;width:44px;height:26px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#3a3a41;transition:.2s;border-radius:999px}
.slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;top:3px;background:white;transition:.2s;border-radius:50%}
.switch input:checked + .slider{background:var(--color-primary)}
.switch input:checked + .slider:before{transform:translateX(18px)}

/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);padding:20px}
.modal.show{display:flex;animation:fade .2s ease}
.modal-dialog{width:100%;max-width:520px;background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:16px;box-shadow:var(--shadow-lg);overflow:hidden;max-height:90vh;display:flex;flex-direction:column}
.modal-header,.modal-footer{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.06);flex:0 0 auto}
.modal-footer{border-top:1px solid rgba(255,255,255,.06);border-bottom:none}
.modal-body{padding:14px;overflow:auto;flex:1 1 auto}
.form-row{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
.form-row label{font-size:var(--fs-xs);color:var(--color-muted);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
input[type="text"],input[type="number"],input[type="date"],select,textarea{appearance:none;background:var(--color-elev);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px 14px;color:var(--color-text);outline:none;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
textarea{resize:vertical}
.form-grid{display:block}
.form-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:700px){.form-grid-2{grid-template-columns:1fr}}

/* Spinner */
.spinner{width:80px;height:80px;border-radius:50%;border:6px solid rgba(255,255,255,.25);border-top-color:var(--color-primary-2);margin:12px auto;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Option cards for download format */
.option-group{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.option-card{display:flex;gap:10px;align-items:flex-start;background:var(--color-elev);border:2px solid rgba(255,255,255,.12);border-radius:12px;padding:12px;cursor:pointer;transition:all var(--dur-fast) var(--easing);position:relative}
.option-card:hover{background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.25)}
.option-card input{margin-top:3px;opacity:0;position:absolute;pointer-events:none}
.option-card input[type="radio"]{accent-color:var(--color-primary)}
.option-card:has(input:checked),
.option-card.selected{background:rgba(21,160,0,.15);border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(21,160,0,.3), 0 4px 12px rgba(21,160,0,.2)}
.option-card:has(input:checked) .option-title,
.option-card.selected .option-title{color:var(--color-primary);font-weight:700}
.option-card:has(input:checked)::before,
.option-card.selected::before{content:'✓';position:absolute;top:8px;right:8px;width:20px;height:20px;background:var(--color-primary);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold}
.option-card:not(:has(input:checked)):not(.selected){opacity:0.6;border-color:rgba(255,255,255,.08);background:var(--color-elev)}
.option-card:not(:has(input:checked)):not(.selected) .option-title{color:var(--color-text);font-weight:600}
.option-card:not(:has(input:checked)):not(.selected) .option-sub{color:var(--color-muted)}
.option-title{font-weight:600;transition:all var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.option-sub{font-size:var(--fs-xs);color:var(--color-muted);transition:color var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.option-card:has(input:checked) .option-sub,
.option-card.selected .option-sub{color:rgba(21,160,0,.8)}
@media (max-width:700px){.option-group{grid-template-columns:1fr}}

/* Light mode form/card overrides */
.theme-light .feature-card{background:#ffffff;border:1px solid rgba(15,23,42,.08)}
.theme-light .option-card{background:#ffffff;border:2px solid rgba(15,23,42,.12)}
.theme-light .option-card:hover{background:rgba(15,23,42,.04);border-color:rgba(15,23,42,.25)}
.theme-light .option-card:has(input:checked),
.theme-light .option-card.selected{background:rgba(21,160,0,.12);border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(21,160,0,.3), 0 4px 12px rgba(21,160,0,.15)}
.theme-light .option-card:not(:has(input:checked)):not(.selected){opacity:0.6;border-color:rgba(15,23,42,.08);background:#ffffff}
.theme-light .option-card:not(:has(input:checked)):not(.selected) .option-title{color:#0f172a;font-weight:600}
.theme-light .option-card:not(:has(input:checked)):not(.selected) .option-sub{color:var(--color-muted)}
.theme-light .dropzone{border-color:rgba(15,23,42,.22);background:rgba(15,23,42,.02)}
.theme-light .import-options label{background:#ffffff;border:2px solid rgba(15,23,42,.12)}
.theme-light .import-options label:hover{background:rgba(15,23,42,.04);border-color:rgba(15,23,42,.2)}
.theme-light .import-options label:has(input:checked){background:rgba(21,160,0,.12);border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(21,160,0,.3), 0 4px 12px rgba(21,160,0,.15);color:var(--color-primary)}
.theme-light .import-options label:not(:has(input:checked)){opacity:0.7;border-color:rgba(15,23,42,.08);background:#ffffff}
.theme-light .import-options label:not(:has(input:checked))::before{border-color:rgba(15,23,42,.3)}
.theme-light input[type="text"],
.theme-light input[type="number"],
.theme-light input[type="date"],
.theme-light select,
.theme-light textarea{background:#ffffff;border:1px solid rgba(15,23,42,.15);color:#0f172a}
.theme-light .search input::placeholder,
.theme-light input::placeholder,
.theme-light textarea::placeholder{color:#6b7280;opacity:1}

/* Import modal */
.dropzone{border:2px dashed rgba(255,255,255,.25);border-radius:16px;padding:30px;background:rgba(255,255,255,.04)}
.dropzone:focus{outline:2px solid var(--color-primary);outline-offset:3px}
.drop-inner{display:flex;flex-direction:column;align-items:center;gap:8px;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.drop-inner svg{width:40px;height:40px;color:var(--color-primary-2)}
.drop-title{font-weight:600;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.import-options{display:flex;flex-direction:column;gap:12px}
.import-options label{display:flex;align-items:center;gap:12px;cursor:pointer;padding:12px 16px 12px 48px;border:2px solid rgba(255,255,255,.12);border-radius:12px;transition:all var(--dur-fast) var(--easing);background:var(--color-elev);position:relative;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.import-options label:hover{background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.2)}
.import-options input[type="checkbox"]{width:20px;height:20px;accent-color:var(--color-primary);cursor:pointer;flex-shrink:0;opacity:0;position:absolute;left:16px;top:50%;transform:translateY(-50%);pointer-events:none}
.import-options label:has(input:checked){background:rgba(21,160,0,.15);border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(21,160,0,.3), 0 4px 12px rgba(21,160,0,.2);color:var(--color-primary);font-weight:600}
.import-options label:has(input:checked)::before{content:'✓';position:absolute;left:16px;top:50%;transform:translateY(-50%);width:20px;height:20px;background:var(--color-primary);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold}
.import-options label:not(:has(input:checked)){opacity:0.7;border-color:rgba(255,255,255,.08)}
.import-options label:not(:has(input:checked))::before{content:'';position:absolute;left:16px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-radius:4px;background:transparent}
.template-center{display:flex;flex-direction:column;align-items:center;gap:10px}

/* Toasts */
.toast-host{position:fixed;bottom:18px;right:18px;display:flex;flex-direction:column;gap:10px;z-index:30}
.toast{background:var(--color-surface);border:1px solid rgba(255,255,255,.08);border-left:4px solid var(--color-primary);border-radius:12px;padding:10px 12px;box-shadow:var(--shadow-md);animation:slideIn .25s ease;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.toast.success{border-left-color:var(--color-success)}
.toast.warn{border-left-color:var(--color-warning)}
.toast.error{border-left-color:var(--color-error)}

/* Animations */
@keyframes fade{from{opacity:0}to{opacity:1}}
@keyframes slideIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeSlide{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes pop{from{opacity:.7;transform:scale(.98)}to{opacity:1;transform:scale(1)}}

/* User menu and authentication */
.user-menu{position:relative;display:flex;align-items:center}
.user-menu button{display:flex;align-items:center;gap:8px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}


.user-dropdown{position:absolute;top:100%;right:0;min-width:120px;background:var(--color-surface);border:1px solid rgba(255,255,255,.08);border-radius:12px;box-shadow:var(--shadow-md);display:none;z-index:1000;margin-top:8px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.user-dropdown.open{display:block}
.user-dropdown button{display:block;width:100%;text-align:left;appearance:none;background:transparent;border:none;padding:10px 12px;color:var(--color-text);cursor:pointer;border-radius:8px;margin:4px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.user-dropdown button:hover{background:rgba(255,255,255,.06)}


/* Authentication state */
.auth-required{opacity:0.6;pointer-events:none}
.auth-required::after{content:"🔒";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:24px;color:var(--color-muted)}

/* Settings Page Styles */
.settings-container{display:flex;gap:16px;min-height:calc(100vh - 200px);padding:16px}
.settings-nav{width:280px;background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:16px;height:fit-content;position:sticky;top:16px;box-shadow:var(--shadow-md)}

/* Settings Search */
.settings-search{margin-bottom:16px;position:relative}
.search-input-group{position:relative;display:flex;align-items:center;background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px;transition:all var(--dur-med) var(--easing)}
.search-input-group:focus-within{border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(21,160,0,.1)}
.search-input-group input{flex:1;background:transparent;border:none;outline:none;color:var(--color-text);font-size:var(--fs-sm);padding:0 8px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.search-input-group input::placeholder{color:var(--color-muted);opacity:0.9}
.search-icon{width:16px;height:16px;color:var(--color-muted);flex-shrink:0;transition:color var(--dur-fast) var(--easing)}
.search-input-group:focus-within .search-icon{color:var(--color-primary)}
.search-clear{position:absolute;right:8px;background:transparent;border:none;color:var(--color-muted);cursor:pointer;padding:4px;border-radius:6px;transition:all var(--dur-fast) var(--easing);display:flex;align-items:center;justify-content:center}
.search-clear:hover{background:rgba(255,255,255,.06);color:var(--color-text)}
.search-clear svg{width:14px;height:14px}
.settings-nav-item{display:flex;align-items:center;gap:12px;width:100%;padding:12px 14px;border:none;background:transparent;color:var(--color-text);border-radius:12px;cursor:pointer;transition:all var(--dur-med) var(--easing);margin-bottom:6px;text-align:left;font-size:var(--fs-sm);font-weight:600;position:relative;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.settings-nav-item:hover{background:rgba(21,160,0,.08);transform:translateX(2px)}
.settings-nav-item.active{background:rgba(21,160,0,.18);border:1px solid rgba(21,160,0,.35);color:var(--color-text)}
.settings-nav-item svg{width:18px;height:18px;flex-shrink:0;transition:transform var(--dur-fast) var(--easing)}
.settings-nav-item:hover svg{transform:scale(1.05)}
.settings-nav-item.active svg{color:var(--color-primary)}
.settings-content{flex:1;background:var(--color-surface);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-md);position:relative}
.settings-panel{display:none;padding:16px;animation:fadeSlide var(--dur-slow) var(--easing)}
.settings-panel.active{display:block}
.settings-panel .panel-header{margin-bottom:16px;border-bottom:1px solid rgba(255,255,255,.06);padding-bottom:12px;position:relative}
.settings-panel .panel-header h2{font-size:var(--fs-lg);font-weight:700;margin:0 0 4px;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.settings-panel .panel-header p{font-size:var(--fs-sm);color:var(--color-muted);margin:0;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-section{margin-bottom:16px;background:var(--color-elev);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:16px;position:relative}
.form-section h3{font-size:var(--fs-base);font-weight:600;margin:0 0 12px;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px}
.form-row{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
.form-row label{font-weight:600;color:var(--color-text);font-size:var(--fs-xs);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-row input, .form-row select, .form-row textarea{appearance:none;background:var(--color-elev);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px 14px;color:var(--color-text);outline:none;transition:border-color var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-row input:focus, .form-row select:focus, .form-row textarea:focus{border-color:var(--color-primary)}
.form-row input[type="range"]{padding:0;background:transparent;border:none;height:6px;border-radius:3px;background:rgba(255,255,255,.12)}
.form-row input[type="range"]::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:var(--color-primary);cursor:pointer;box-shadow:0 2px 6px rgba(21,160,0,.3);transition:transform var(--dur-fast) var(--easing)}
.form-row input[type="range"]::-webkit-slider-thumb:hover{transform:scale(1.1)}
.range-value{font-size:var(--fs-xs);color:var(--color-muted);margin-top:4px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.color-input-group{display:flex;gap:12px;align-items:center;background:var(--color-elev);border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:8px;transition:border-color var(--dur-fast) var(--easing)}
.color-input-group:focus-within{border-color:var(--color-primary)}
.color-input-group input[type="color"]{width:40px;height:40px;border:none;border-radius:8px;cursor:pointer;background:transparent}
.color-input-group input[type="text"]{flex:1;background:transparent;border:none;font-weight:600;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.setting-item{display:flex;align-items:center;gap:12px;background:var(--color-elev);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:12px;margin-bottom:10px;transition:background var(--dur-fast) var(--easing)}
.setting-item:hover{background:rgba(255,255,255,.04)}
.setting-title{font-weight:600;color:var(--color-text);font-size:var(--fs-sm)}
.setting-desc{color:var(--color-muted);font-size:12px;margin-top:2px}
.switch{position:relative;display:inline-block;width:44px;height:26px;flex-shrink:0}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#3a3a41;transition:.2s;border-radius:999px}
.slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;top:3px;background:white;transition:.2s;border-radius:50%}
input:checked + .slider{background:var(--color-primary)}
input:checked + .slider:before{transform:translateX(18px)}
.settings-actions{display:flex;gap:12px;justify-content:space-between;align-items:center;padding:16px;border-top:1px solid rgba(255,255,255,.06);background:var(--color-surface);margin-top:16px}
.settings-actions-left{display:flex;gap:8px}
.settings-actions-right{display:flex;gap:8px}
.settings-actions .btn{display:flex;align-items:center;gap:8px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.settings-actions .btn svg{width:16px;height:16px}

/* Enhanced animations */
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideInRight{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}


/* Light mode adjustments for settings */
.theme-light .settings-nav{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .settings-content{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .form-section{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .form-row input, .theme-light .form-row select, .theme-light .form-row textarea{background:#ffffff;border:1px solid rgba(15,23,42,.15);color:#0f172a}
.theme-light .setting-item{background:#f8fafc;border:1px solid rgba(15,23,42,.1)}
.theme-light .settings-actions{background:#ffffff;border-top:1px solid rgba(15,23,42,.1)}
.theme-light .color-input-group{background:#ffffff;border:1px solid rgba(15,23,42,.15)}
.theme-light .search-input-group{background:#ffffff;border:1px solid rgba(15,23,42,.15)}
.theme-light .settings-nav-item:hover{background:rgba(21,160,0,.08)}
.theme-light .setting-item:hover{background:rgba(15,23,42,.02)}

/* Responsive design for settings */
@media (max-width: 1024px) {
  .settings-container{flex-direction:column;gap:16px}
  .settings-nav{width:100%;position:static;margin-bottom:16px}
  .settings-nav-item{justify-content:center;text-align:center}
  .form-grid{grid-template-columns:1fr;gap:12px}
}

@media (max-width: 768px) {
  .settings-container{padding:12px}
  .settings-nav{padding:12px}
  .settings-panel{padding:12px}
  .form-section{padding:12px}
  .settings-actions{flex-direction:column;gap:8px}
  .settings-actions .btn{width:100%}
}

/* Loading states for settings */
.settings-loading{opacity:0.6;pointer-events:none;position:relative}
.settings-loading::after{content:'';position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;border:2px solid var(--color-border);border-top-color:var(--color-primary);border-radius:50%;animation:spin 1s linear infinite}

/* Success/Error states */
.settings-success{background:rgba(34,197,94,.1);border-color:rgba(34,197,94,.3)}
.settings-error{background:rgba(239,68,68,.1);border-color:rgba(239,68,68,.3)}

/* Form Validation */
.form-row .validation-message{position:absolute;bottom:-16px;left:0;font-size:var(--fs-xs);color:var(--color-error);opacity:0;transition:opacity var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-row.error .validation-message{opacity:1}
.form-row.error input, .form-row.error select, .form-row.error textarea{border-color:var(--color-error)}
.form-row.success input, .form-row.success select, .form-row.success textarea{border-color:var(--color-success)}
.form-row.success .validation-message{color:var(--color-success)}

/* Enhanced Textarea */
.form-row textarea{resize:vertical;min-height:80px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";line-height:1.5}

/* Enhanced Select */
.form-row select{appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px;padding-right:36px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-row select:focus{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2315a000' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")}

/* Prevent Lucide icons from being applied to select elements */
select i[data-lucide], select svg[data-lucide] { display: none !important; }

/* Enhanced Number Input */
.form-row input[type="number"]{appearance:textfield;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.form-row input[type="number"]::-webkit-outer-spin-button, .form-row input[type="number"]::-webkit-inner-spin-button{appearance:none;margin:0}

/* Role Permissions Styles */
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.section-header h3{margin:0;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}

.roles-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px;margin-bottom:24px}
.role-card{background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:16px;transition:all var(--dur-fast) var(--easing)}
.role-card:hover{border-color:var(--color-primary);transform:translateY(-2px)}
.role-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.role-name{font-weight:600;color:var(--color-text);font-size:var(--fs-lg);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.role-actions{display:flex;gap:8px}
.role-actions button{background:transparent;border:1px solid rgba(255,255,255,.12);border-radius:8px;padding:6px 8px;color:var(--color-muted);cursor:pointer;transition:all var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.role-actions button:hover{background:rgba(255,255,255,.06);color:var(--color-text)}
.role-description{color:var(--color-muted);font-size:var(--fs-sm);margin-bottom:12px;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.role-stats{display:flex;gap:16px;font-size:var(--fs-xs);color:var(--color-muted);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.role-stat{display:flex;align-items:center;gap:4px}

.permission-matrix{background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden;margin-bottom:24px}
.matrix-header{display:flex;background:var(--color-surface);border-bottom:1px solid rgba(255,255,255,.08);padding:12px 16px}
.permission-category{flex:1;font-weight:600;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.role-columns{display:flex;gap:16px}
.role-column{min-width:120px;text-align:center;font-weight:600;color:var(--color-text);font-size:var(--fs-sm);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.matrix-body{max-height:400px;overflow-y:auto}
.permission-row{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06);transition:background var(--dur-fast) var(--easing)}
.permission-row:hover{background:rgba(255,255,255,.03)}
.permission-row:last-child{border-bottom:none}
.permission-name{flex:1;color:var(--color-text);font-size:var(--fs-sm);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.permission-checkboxes{display:flex;gap:16px}
.permission-checkbox{display:flex;align-items:center;justify-content:center;min-width:120px}
.permission-checkbox input[type="checkbox"]{width:18px;height:18px;accent-color:var(--color-primary)}

.users-table{background:var(--color-elev);border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden;margin-top:16px}
.users-table-header{display:flex;background:var(--color-surface);border-bottom:1px solid rgba(255,255,255,.08);padding:12px 16px;font-weight:600;color:var(--color-text);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.users-table-header div{flex:1;padding:0 8px}
.users-table-header div:first-child{flex:2}
.users-table-body{max-height:300px;overflow-y:auto}
.user-row{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06);transition:background var(--dur-fast) var(--easing)}
.user-row:hover{background:rgba(255,255,255,.03)}
.user-row:last-child{border-bottom:none}
.user-row div{flex:1;padding:0 8px;color:var(--color-text);font-size:var(--fs-sm);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.user-row div:first-child{flex:2;font-weight:500}
.user-role{display:inline-block;background:var(--color-primary);color:white;padding:2px 8px;border-radius:12px;font-size:var(--fs-xs);font-weight:500;font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.user-actions{display:flex;gap:8px}
.user-actions button{background:transparent;border:1px solid rgba(255,255,255,.12);border-radius:6px;padding:4px 6px;color:var(--color-muted);cursor:pointer;transition:all var(--dur-fast) var(--easing);font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"}
.user-actions button:hover{background:rgba(255,255,255,.06);color:var(--color-text)}

/* Light mode adjustments for role permissions */
.theme-light .role-card{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .role-card:hover{border-color:var(--color-primary)}
.theme-light .role-actions button{border:1px solid rgba(15,23,42,.15);color:var(--color-muted)}
.theme-light .role-actions button:hover{background:rgba(15,23,42,.05);color:var(--color-text)}
.theme-light .permission-matrix{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .matrix-header{background:#f8fafc;border-bottom:1px solid rgba(15,23,42,.1)}
.theme-light .permission-row{border-bottom:1px solid rgba(15,23,42,.06)}
.theme-light .permission-row:hover{background:rgba(15,23,42,.03)}
.theme-light .users-table{background:#ffffff;border:1px solid rgba(15,23,42,.1)}
.theme-light .users-table-header{background:#f8fafc;border-bottom:1px solid rgba(15,23,42,.1)}
.theme-light .user-row{border-bottom:1px solid rgba(15,23,42,.06)}
.theme-light .user-row:hover{background:rgba(15,23,42,.03)}
.theme-light .user-actions button{border:1px solid rgba(15,23,42,.15);color:var(--color-muted)}
.theme-light .user-actions button:hover{background:rgba(15,23,42,.05);color:var(--color-text)}

/* Reports Styles */
.reports-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
}

.reports-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border);
}

.reports-header .header-content h1 {
  margin: 0 0 8px 0;
  font-size: 2rem;
  font-weight: 600;
  color: var(--color-text);
}

.reports-header .header-actions {
  display: flex;
  gap: 12px;
}

/* Metrics Dashboard */
.metrics-dashboard {
  margin-bottom: 32px;
}

.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}

.metric-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  transition: all 0.2s ease;
}

.metric-card:hover {
  border-color: var(--color-accent);
  box-shadow: 0 4px 12px rgba(21, 160, 0, 0.1);
  transform: translateY(-2px);
}

.metric-icon {
  width: 48px;
  height: 48px;
  border-radius: var(--radius);
  background: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
}

.metric-content {
  flex: 1;
}

.metric-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin-bottom: 4px;
}

.metric-label {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-bottom: 4px;
}

.metric-change {
  font-size: 0.75rem;
  font-weight: 500;
}

.metric-change.positive {
  color: #10b981;
}

.metric-change.negative {
  color: #ef4444;
}

/* Report Types */
.report-types {
  margin-bottom: 32px;
}

.report-type-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.report-type-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  text-align: center;
  transition: all 0.2s ease;
  cursor: pointer;
}

.report-type-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  border-color: var(--color-primary);
}

.report-icon {
  width: 64px;
  height: 64px;
  border-radius: var(--radius);
  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-2));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 24px;
  margin: 0 auto 16px;
}

.report-type-card h3 {
  margin: 0 0 12px 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.report-type-card p {
  margin: 0 0 20px 0;
  color: var(--color-text-secondary);
  line-height: 1.5;
}

/* Recent Reports */
.recent-reports {
  margin-bottom: 32px;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.section-header h3 {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
}

.reports-list {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  overflow: hidden;
}

.report-item {
  display: flex;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--color-border);
  transition: background-color 0.2s ease;
}

.report-item:last-child {
  border-bottom: none;
}

.report-item:hover {
  background: var(--color-background);
}

.report-info {
  flex: 1;
}

.report-name {
  font-weight: 500;
  color: var(--color-text);
  margin-bottom: 4px;
}

.report-meta {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.report-actions {
  display: flex;
  gap: 8px;
}

/* Quick Analytics */
.quick-analytics {
  margin-bottom: 32px;
}

.analytics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 20px;
}

.analytics-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
}

.analytics-card h4 {
  margin: 0 0 20px 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

/* Chart Placeholder */
.chart-placeholder {
  height: 200px;
  display: flex;
  align-items: end;
  justify-content: center;
  gap: 8px;
  padding: 20px 0;
}

.chart-mock {
  display: flex;
  align-items: end;
  gap: 8px;
  height: 100%;
}

.chart-bar {
  width: 20px;
  background: linear-gradient(to top, var(--color-primary), var(--color-primary-2));
  border-radius: 4px 4px 0 0;
  transition: all 0.3s ease;
}

.chart-bar:hover {
  opacity: 0.8;
}

/* Top Batches */
.top-batches {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.batch-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: var(--color-background);
  border-radius: var(--radius);
}

.batch-name {
  font-weight: 500;
  color: var(--color-text);
}

.batch-metric {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

/* Payment Methods */
.payment-methods {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.method-item {
  display: flex;
  align-items: center;
  gap: 12px;
}

.method-name {
  min-width: 100px;
  font-size: 0.875rem;
  color: var(--color-text);
}

.method-bar {
  flex: 1;
  height: 8px;
  background: var(--color-background);
  border-radius: 4px;
  overflow: hidden;
}

.method-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary), var(--color-primary-2));
  border-radius: 4px;
  transition: width 0.3s ease;
}

.method-percentage {
  min-width: 40px;
  text-align: right;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text);
}

/* Redemptions, Payments, Frauds, Alerts Styles */
.redemptions-container,
.payments-container,
.frauds-container,
.alerts-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 24px;
}

.redemptions-header,
.payments-header,
.frauds-header,
.alerts-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border);
}

.redemptions-header .header-content h1,
.payments-header .header-content h1,
.frauds-header .header-content h1,
.alerts-header .header-content h1 {
  margin: 0 0 8px 0;
  font-size: 2rem;
  font-weight: 600;
  color: var(--color-text);
}

.redemptions-header .header-actions,
.payments-header .header-actions,
.frauds-header .header-actions,
.alerts-header .header-actions {
  display: flex;
  gap: 12px;
}

.redemption-metrics,
.payment-metrics,
.fraud-metrics,
.alert-metrics {
  margin-bottom: 32px;
}

.redemption-controls,
.payment-controls,
.fraud-controls,
.alert-controls {
  margin-bottom: 24px;
}

.redemption-bar,
.payment-bar,
.fraud-bar,
.alert-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 0;
  border-bottom: 1px solid var(--color-border);
}

.redemption-bar .left,
.payment-bar .left,
.fraud-bar .left,
.alert-bar .left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.redemption-bar .right,
.payment-bar .right,
.fraud-bar .right,
.alert-bar .right {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Priority and Severity Badges */
.priority-badge {
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.priority-high {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.priority-medium {
  background: rgba(245, 158, 11, 0.1);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.priority-low {
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

.severity-badge {
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.severity-critical {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.severity-warning {
  background: rgba(245, 158, 11, 0.1);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.severity-info {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.2);
}

/* Enhanced Dashboard Styles */
.dashboard-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 24px;
}

.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border);
}

.dashboard-header .header-content h1 {
  margin: 0 0 8px 0;
  font-size: 2rem;
  font-weight: 600;
  color: var(--color-text);
}

.dashboard-header .header-actions {
  display: flex;
  align-items: center;
  gap: 16px;
}

.date-range-picker {
  position: relative;
  display: flex;
  align-items: center;
}

.date-range-picker select {
  padding: 8px 32px 8px 12px;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-surface);
  color: var(--color-text);
  font-size: 0.875rem;
  appearance: none;
  cursor: pointer;
}

.date-range-picker i {
  position: absolute;
  right: 8px;
  pointer-events: none;
  color: var(--color-muted);
}

.analytics-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 24px;
  margin-bottom: 32px;
}

.chart-container {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 24px;
  transition: all 0.2s ease;
}

.chart-container:hover {
  border-color: var(--color-accent);
  box-shadow: 0 4px 12px rgba(21, 160, 0, 0.1);
}

.chart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.chart-header h3 {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.chart-controls {
  display: flex;
  gap: 4px;
}

.chart-btn {
  padding: 6px 12px;
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-muted);
  border-radius: 6px;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.chart-btn.active {
  background: var(--color-accent);
  color: white;
  border-color: var(--color-accent);
}

.chart-placeholder {
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chart-mock {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.chart-bars {
  display: flex;
  align-items: end;
  justify-content: space-between;
  height: 80%;
  gap: 8px;
}

.bar {
  flex: 1;
  background: linear-gradient(to top, var(--color-accent), rgba(21, 160, 0, 0.3));
  border-radius: 4px 4px 0 0;
  min-height: 20px;
  transition: all 0.3s ease;
}

.bar:hover {
  background: linear-gradient(to top, var(--color-accent), rgba(21, 160, 0, 0.5));
}

.chart-labels {
  display: flex;
  justify-content: space-between;
  height: 20%;
  align-items: center;
  font-size: 0.75rem;
  color: var(--color-muted);
}

.pie-chart-mock {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
}

.pie-slice {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 500;
}

.slice-1 {
  background: rgba(21, 160, 0, 0.1);
  color: var(--color-accent);
  border-left: 4px solid var(--color-accent);
}

.slice-2 {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
  border-left: 4px solid #3b82f6;
}

.slice-3 {
  background: rgba(245, 158, 11, 0.1);
  color: #f59e0b;
  border-left: 4px solid #f59e0b;
}

.activity-section {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 24px;
}

/* Quick Actions Panel */
.quick-actions-panel {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 32px;
}

.panel-header {
  margin-bottom: 20px;
}

.panel-header h3 {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
  margin: 0 0 4px;
}

.panel-header .muted {
  font-size: 0.875rem;
  color: var(--color-muted);
  margin: 0;
}

.actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.action-card {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  width: 100%;
}

.action-card:hover {
  border-color: var(--color-accent);
  box-shadow: 0 4px 16px rgba(21, 160, 0, 0.1);
  transform: translateY(-2px);
}

.action-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--color-accent), rgba(21, 160, 0, 0.8));
  border-radius: 10px;
  display: grid;
  place-items: center;
  color: #fff;
  font-size: 18px;
  flex-shrink: 0;
}

.action-content {
  flex: 1;
}

.action-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text);
  margin: 0 0 4px;
}

.action-desc {
  font-size: 0.75rem;
  color: var(--color-muted);
  margin: 0;
}

/* Ensure proper alignment for remaining charts */
.analytics-section .chart-container {
  min-height: 300px;
}



/* System Health Monitor */
.health-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.health-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #22c55e;
}

.health-text {
  font-size: 0.75rem;
  color: #22c55e;
  font-weight: 500;
}

.health-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 16px;
}

.health-metric {
  text-align: center;
  padding: 16px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
}

.health-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--color-accent), rgba(21, 160, 0, 0.8));
  border-radius: 10px;
  display: grid;
  place-items: center;
  color: #fff;
  font-size: 16px;
  margin: 0 auto 12px;
}

.health-content {
  display: flex;
  flex-direction: column;
  position: relative;
}

.health-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0 0 4px;
}

.health-label {
  font-size: 0.75rem;
  color: var(--color-muted);
  margin: 0 0 8px;
}

.health-indicator {
  position: absolute;
  top: 0;
  right: 0;
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.health-indicator.healthy {
  background: #22c55e;
}

.health-indicator.warning {
  background: #f59e0b;
}

.health-indicator.critical {
  background: #ef4444;
}

/* Conversion Funnel */
.funnel-stats {
  display: flex;
  align-items: center;
  gap: 8px;
}

.funnel-rate {
  font-size: 0.75rem;
  color: var(--color-accent);
  font-weight: 500;
  background: rgba(21, 160, 0, 0.1);
  padding: 4px 8px;
  border-radius: 6px;
}

.conversion-funnel {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.funnel-stage {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.stage-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--color-accent), rgba(21, 160, 0, 0.8));
  border-radius: 10px;
  display: grid;
  place-items: center;
  color: #fff;
  font-size: 16px;
  flex-shrink: 0;
}

.stage-content {
  flex: 1;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stage-value {
  font-size: 1rem;
  font-weight: 700;
  color: var(--color-text);
}

.stage-label {
  font-size: 0.75rem;
  color: var(--color-muted);
}

.stage-percentage {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-accent);
}

.funnel-arrow {
  text-align: center;
  font-size: 1.25rem;
  color: var(--color-accent);
  margin: 4px 0;
}

.activity-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.activity-header h3 {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text);
}

.activity-feed {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.activity-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  border-radius: 8px;
  transition: background-color 0.2s ease;
}

.activity-item:hover {
  background: var(--color-elev);
}

.activity-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--color-elev);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.activity-icon i {
  width: 16px;
  height: 16px;
  color: var(--color-accent);
}

.activity-content {
  flex: 1;
}

.activity-title {
  font-weight: 500;
  color: var(--color-text);
  margin-bottom: 4px;
}

.activity-description {
  font-size: 0.875rem;
  color: var(--color-muted);
  margin-bottom: 4px;
}

.activity-time {
  font-size: 0.75rem;
  color: var(--color-muted);
}

/* Analytics Components - Design System Consistent */
.security-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.security-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.security-dot.secure {
  background: #22c55e;
}

.security-text {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-muted);
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.security-metrics {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.security-metric {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--color-elev);
  border-radius: 8px;
  transition: background-color 0.2s ease;
}

.security-metric:hover {
  background: var(--color-border);
}

.security-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.security-icon i {
  width: 16px;
  height: 16px;
  color: white;
}

.security-content {
  flex: 1;
}

.security-value {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: 2px;
}

.security-label {
  font-size: 0.75rem;
  color: var(--color-muted);
}

/* Top Batches */
.top-batches-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.batch-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--color-elev);
  border-radius: 8px;
  transition: background-color 0.2s ease;
}

.batch-item:hover {
  background: var(--color-border);
}

.batch-info {
  flex: 1;
}

.batch-name {
  font-weight: 500;
  color: var(--color-text);
  margin-bottom: 4px;
}

.batch-stats {
  font-size: 0.75rem;
  color: var(--color-muted);
}

.batch-progress {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 80px;
}

/* Payment Methods */
.payment-methods-chart {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.payment-method {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background: var(--color-elev);
  border-radius: 8px;
  transition: background-color 0.2s ease;
}

.payment-method:hover {
  background: var(--color-border);
}

.method-info {
  display: flex;
  align-items: center;
  gap: 12px;
}

.method-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.method-icon.mtn {
  background: rgba(255, 193, 7, 0.1);
  color: #ffc107;
}

.method-icon.airtel {
  background: rgba(220, 53, 69, 0.1);
  color: #dc3545;
}

.method-icon.other {
  background: rgba(108, 117, 125, 0.1);
  color: #6c757d;
}

.method-icon i {
  width: 16px;
  height: 16px;
}

.method-details {
  flex: 1;
}

.method-name {
  font-weight: 500;
  color: var(--color-text);
  margin-bottom: 2px;
}

.method-amount {
  font-size: 0.75rem;
  color: var(--color-muted);
}

.method-percentage {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text);
}

/* Button Small */
.btn.small {
  padding: 4px 8px;
  font-size: 0.75rem;
}

/* Success Toast */
.success-toast {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #22c55e;
  color: white;
  padding: 16px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
  z-index: 10000;
  transform: translateX(100%);
  opacity: 0;
  transition: all 0.3s ease;
}

.success-toast.show {
  transform: translateX(0);
  opacity: 1;
}

.toast-content {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 500;
}

.toast-content i {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

/* Form Error Styles */
.error {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.1) !important;
}

.error-message {
  color: #ef4444;
  font-size: 14px;
  margin-top: 4px;
  display: block;
}

/* User Management Styles */
.user-management-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 24px;
}

.user-management-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border);
}

.user-management-header h1 {
  margin: 0;
  color: var(--color-text);
  font-size: var(--fs-2xl);
  font-weight: 700;
}

.user-management-header .muted {
  margin: 4px 0 0;
  color: var(--color-muted);
  font-size: var(--fs-sm);
}

/* User Statistics - Match Dashboard Metrics */
.user-stats {
  margin-bottom: 32px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.stat-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  transition: all 0.2s ease;
}

.stat-card:hover {
  border-color: var(--color-accent);
  box-shadow: 0 4px 12px rgba(21, 160, 0, 0.1);
  transform: translateY(-2px);
}

.stat-icon {
  width: 48px;
  height: 48px;
  background: var(--color-accent);
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
}

.stat-content {
  flex: 1;
}

.stat-value {
  font-size: var(--fs-2xl);
  font-weight: 700;
  color: var(--color-text);
  margin: 0;
}

.stat-label {
  font-size: var(--fs-sm);
  color: var(--color-muted);
  margin: 4px 0 0;
}

/* Role Assignment Section - Match Settings Panel Style */
.role-assignment-section {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 24px;
  margin-bottom: 32px;
}

.role-assignment-section .section-header {
  margin-bottom: 20px;
  border-bottom: 1px solid var(--color-border);
  padding-bottom: 12px;
}

.role-assignment-section h3 {
  margin: 0 0 4px;
  color: var(--color-text);
  font-size: var(--fs-lg);
  font-weight: 600;
}

.role-assignment-section .muted {
  margin: 0;
  color: var(--color-muted);
  font-size: var(--fs-sm);
}

.role-assignment-form .form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  align-items: end;
}

/* User Controls - Match Form Section Style */
.user-controls {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 32px;
  padding: 20px;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
}

.search-section {
  display: flex;
  align-items: center;
  gap: 12px;
}

.search-input-group {
  position: relative;
  flex: 1;
  max-width: 400px;
}

.search-input-group .search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-muted);
  width: 16px;
  height: 16px;
}

.search-input-group input {
  padding-left: 40px;
  padding-right: 40px;
}

.search-clear {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--color-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.search-clear:hover {
  background: var(--color-elev);
  color: var(--color-text);
}

.filter-section {
  display: flex;
  align-items: end;
  gap: 16px;
  flex-wrap: wrap;
}

.filter-section .form-row {
  margin-bottom: 0;
  min-width: 200px;
}

/* Users Table - Match Table Style */
.users-table-container {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  overflow: hidden;
  margin-bottom: 24px;
}

.table-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: var(--color-elev);
  border-bottom: 1px solid var(--color-border);
}

.table-title {
  display: flex;
  align-items: center;
  gap: 12px;
}

.table-title h3 {
  margin: 0;
  color: var(--color-text);
  font-size: var(--fs-lg);
  font-weight: 600;
}

.user-count {
  color: var(--color-muted);
  font-size: var(--fs-sm);
  background: var(--color-elev);
  padding: 4px 8px;
  border-radius: 6px;
  border: 1px solid var(--color-border);
}

.table-actions {
  display: flex;
  gap: 8px;
}

.users-table {
  max-height: 500px;
  overflow-y: auto;
}

.users-table-header {
  display: flex;
  background: var(--color-elev);
  border-bottom: 1px solid var(--color-border);
  padding: 12px 20px;
  font-weight: 600;
  color: var(--color-text);
  position: sticky;
  top: 0;
  z-index: 10;
}

.users-table-header div {
  flex: 1;
  padding: 0 8px;
  font-size: var(--fs-sm);
}

.users-table-header div:first-child {
  flex: 2;
}

.users-table-header div:last-child {
  flex: 0 0 120px;
  text-align: center;
}

.users-table-body {
  max-height: 400px;
  overflow-y: auto;
}

.user-row {
  display: flex;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--color-border);
  transition: background 0.2s ease;
}

.user-row:hover {
  background: var(--color-elev);
}

.user-row:last-child {
  border-bottom: none;
}

.user-row div {
  flex: 1;
  padding: 0 8px;
  color: var(--color-text);
  font-size: var(--fs-sm);
}

.user-row div:first-child {
  flex: 2;
  font-weight: 500;
}

.user-row div:last-child {
  flex: 0 0 120px;
  text-align: center;
}

.user-role {
  display: inline-block;
  background: var(--color-accent);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: var(--fs-xs);
  font-weight: 500;
  text-transform: capitalize;
}

.user-status {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: var(--fs-xs);
  font-weight: 500;
  text-transform: capitalize;
}

.user-status.active {
  background: var(--color-success);
  color: white;
}

.user-status.inactive {
  background: var(--color-muted);
  color: var(--color-text);
}

.user-status.suspended {
  background: var(--color-error);
  color: white;
}

.user-actions {
  display: flex;
  gap: 8px;
  justify-content: center;
}

.user-actions button {
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 6px 8px;
  color: var(--color-muted);
  cursor: pointer;
  transition: all 0.2s ease;
}

.user-actions button:hover {
  background: var(--color-elev);
  color: var(--color-text);
  border-color: var(--color-accent);
}

/* Light mode adjustments for user management */
.theme-light .user-management-header {
  border-bottom: 1px solid var(--color-border);
}

.theme-light .user-controls {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.theme-light .users-table-container {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.theme-light .table-header {
  background: var(--color-elev);
  border-bottom: 1px solid var(--color-border);
}

.theme-light .users-table-header {
  background: var(--color-elev);
  border-bottom: 1px solid var(--color-border);
}

.theme-light .user-row {
  border-bottom: 1px solid var(--color-border);
}

.theme-light .user-row:hover {
  background: var(--color-elev);
}

.theme-light .user-actions button {
  border: 1px solid var(--color-border);
  color: var(--color-muted);
}

.theme-light .user-actions button:hover {
  background: var(--color-elev);
  color: var(--color-text);
  border-color: var(--color-accent);
}

.theme-light .role-assignment-section {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.theme-light .stat-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
}

.theme-light .stat-card:hover {
  border-color: var(--color-accent);
}


/* Enhanced URL Input */
.form-row input[type="url"]{font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";font-size:var(--fs-sm)}

/* Enhanced Password Input */
.form-row input[type="password"]{font-family:"Montserrat", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";letter-spacing:1px}

@media (prefers-reduced-motion: reduce){
  *{animation-duration:0.001ms !important;animation-iteration-count:1 !important;transition-duration:0.001ms !important}
}


